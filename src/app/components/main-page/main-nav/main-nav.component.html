<div class="sidenav-inner">
  <!-- Logo -->
  <div class="logo inversion primary" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
    <a class="sidenav-link v-centering" [routerLink]="['/main/catalog']">
      <div class="logomark">
        <mat-icon role="logomark">import_contacts</mat-icon>
      </div>
      <div class="logotype ml-10" *ngIf="isTextVisible">
        <h1> Notebooks </h1>
      </div>
    </a>
  </div>

  <!-- Navigation Panel Control -->
  <button mat-button
  #tooltip="matTooltip" matTooltip="Expand side navigation"
  class="sidenav-button" (click)="emitSideNavToggle()">
    <ng-container *ngIf="isTextVisible ; else elseBlock">
      <mat-icon>more_vert</mat-icon>
    </ng-container>
    <ng-template #elseBlock>
      <mat-icon>menu</mat-icon>
    </ng-template>
  </button>

  <!-- Menu -->
  <ul class="sidenav-menu scrollable nav-section">
    <li class="nav-item" [class.active]="router.url==='/main/catalog'"
    #tooltip="matTooltip" matTooltip="Environments" [matTooltipDisabled]="true">
      <a class="sidenav-link v-centering" [routerLink]="['/main/catalog']">
        <div class="icon-holder">
          <mat-icon fontSet="material-icons-outlined">import_contacts</mat-icon>
        </div>
        <div class="title" *ngIf="isTextVisible">Environments</div>
      </a>
    </li>
    <li class="nav-item" [class.active]="router.url==='/main/my-workspaces'"
    #tooltip="matTooltip" matTooltip="My workspaces" [matTooltipDisabled]="true">
      <a class="sidenav-link v-centering" [routerLink]="['/main/my-workspaces']">
        <div class="icon-holder">
          <mat-icon>people_outline</mat-icon>
        </div>
        <div class="title" *ngIf="isTextVisible">My workspaces</div>
      </a>
    </li>
  </ul>

  <ng-container *ngIf="authService.isWorkspaceOwner">
    <ul class="sidenav-menu workspace-owner nav-section">
      <li class="nav-item workspace-owner-item" [class.active]="router.url==='/main/workspace-owner'"
      #tooltip="matTooltip" matTooltip="Manage workspaces" [matTooltipDisabled]="true">
        <a class="sidenav-link v-centering" [routerLink]="['/main/workspace-owner']">
          <div class="icon-holder">
            <mat-icon fontSet="material-icons-outlined">folder_shared</mat-icon>
          </div>
          <div class="title" *ngIf="isTextVisible">Manage workspaces</div>
        </a>
      </li>
      <li class="nav-item workspace-owner-item" [class.active]="router.url==='/main/active-environments'"
      #tooltip="matTooltip" matTooltip="Active environments" [matTooltipDisabled]="true">
        <a class="sidenav-link v-centering" [routerLink]="['/main/active-environments']">
          <div class="icon-holder">
            <mat-icon fontSet="material-icons-outlined">dns</mat-icon>
          </div>
          <div class="title" *ngIf="isTextVisible">Active environments</div>
        </a>
      </li>
    </ul>
  </ng-container>

  <ng-container *ngIf="authService.isAdmin">
    <ul class="sidenav-menu workspace-owner">
      <li class="nav-item workspace-owner-item" [class.active]="router.url==='/main/admin'"
      #tooltip="matTooltip" matTooltip="Admin tool" [matTooltipDisabled]="true">
        <a class="sidenav-link v-centering" [routerLink]="['/main/admin']">
          <div class="icon-holder">
            <mat-icon fontSet="material-icons-outlined">admin_panel_settings</mat-icon>
          </div>
          <div class="title" *ngIf="isTextVisible">Admin tool</div>
        </a>
      </li>
      <li class="nav-item workspace-owner-item" [class.active]="router.url==='/main/statistics'"
      #tooltip="matTooltip" matTooltip="Statistics" [matTooltipDisabled]="true">
        <a class="sidenav-link v-centering" [routerLink]="['/main/statistics']">
          <div class="icon-holder">
            <mat-icon fontSet="material-icons-outlined">bar_chart</mat-icon>
          </div>
          <div class="title" *ngIf="isTextVisible">Statistics</div>
        </a>
      </li>
    </ul>
  </ng-container>

  <ul class="sidenav-menu nav-section">
    <li class="nav-item" [class.active]="router.url==='/main/announcements'"
    #tooltip="matTooltip" matTooltip="Announcements" [matTooltipDisabled]="true">
      <a class="sidenav-link v-centering" [routerLink]="['/main/announcements']">
        <div class="icon-holder">
          <mat-icon fontSet="material-icons-outlined"
          [matBadgeHidden]="getUnreadAnnouncements().length > 0 ? false : true"
          [matBadge]="getUnreadAnnouncements().length"
          matBadgeColor="{{getUnreadAnnouncements().length > 0 ? 'warn': 'normal'}}">
            announcements
          </mat-icon>
        </div>
        <div class="title" *ngIf="isTextVisible">Announcements</div>
      </a>
    </li>
    <li class="nav-item" [class.active]="router.url==='/main/account'"
    #tooltip="matTooltip" matTooltip="Account" [matTooltipDisabled]="true">
      <a class="sidenav-link v-centering" [routerLink]="['/main/account']">
        <div class="icon-holder">
          <mat-icon fontSet="material-icons-outlined">face</mat-icon>
        </div>
        <div class="title" *ngIf="isTextVisible">Account</div>
      </a>
    </li>
  </ul>
  <ul class="sidenav-menu outer-link nav-section">
    <li class="nav-item" [class.active]="router.url==='/main/help'"
    #tooltip="matTooltip" matTooltip="Help" [matTooltipDisabled]="true">
      <a class="sidenav-link v-centering" [routerLink]="['/main/help']">
        <div class="icon-holder">
          <mat-icon fontSet="material-icons-outlined">help_outline</mat-icon>
        </div>
        <div class="title" *ngIf="isTextVisible">Help</div>
      </a>
    </li>
  </ul>

  <!-- Logout -->
  <div class="sidenav-logout nav-section">
    <div class="user-name" *ngIf="isTextVisible">{{ userName }}</div>
    <button class="logout-button sidenav-button"
    (click)="authService.logout()">
      <mat-icon>exit_to_app</mat-icon>
      <span class="button-text" *ngIf="isTextVisible">Logout</span>
    </button>
  </div>
</div>
