<div id="join-workspace-dialog" class="mat-typography dialog-container pb-20" ngClass.lt-sm="mobile">
  <div class="corner-button-container">
    <button mat-icon-button mat-dialog-close class="corner-button" (click)="closeForm()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <h1 class="mat-dialog-title mat-headline">Join Workspace</h1>
  <mat-dialog-content>
    <section class="workspace-input-form">
      <form [formGroup]="joinWorkspaceForm" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px"
            fxLayout.lt-sm="column" fxLayoutAlign.lt-sm="start stretch" fxLayoutGap.lt-sm="10px">
        <mat-icon class="material-icons-outlined">vpn_key</mat-icon>
        <mat-form-field appearance="fill" class="join-code-input" fxFlex="grow">
          <mat-label>Enter Join Code</mat-label>
          <input matInput type="text" placeholder="Join code" formControlName="joinCode"
                 fxFlex="0 0 220px"/>
          <mat-error *ngIf="isJoinCodeValid" [ngClass]="'error'">error</mat-error>
        </mat-form-field>
        <button mat-flat-button color="primary" class="join-workspace-btn" (click)="joinWorkspace()">
          <mat-icon fontSet="material-icons-outlined">add</mat-icon>
        </button>
      </form>
      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    </section>
    <section class="workspace-list mt-30" *ngIf="data.context && data.context.identifier === 'catalog'">
      <ng-container *ngIf=" workspaces.length > 0; else noWorkspaceBlock">
        <h3>My Workspaces</h3>
        <ul class="workspace-list">
          <li class="center__v" *ngFor="let workspace of workspaces">
            <mat-icon class="mr-10">people</mat-icon>
            <a class="u-line" [routerLink]="['/main/my-workspaces']" [fragment]="workspace.id"
               (click)="closeForm()">
              <span>{{ workspace.name }}</span>
              <ng-container *ngIf="newWorkspace">
                <mat-chip class="ml-5 chip__sm" color="accent" selected *ngIf="workspace.id===newWorkspace.id">New
                </mat-chip>
              </ng-container>
            </a>
          </li>
        </ul>
      </ng-container>
      <ng-template #noWorkspaceBlock>
        <mat-list>
          <div mat-subheader>My Workspaces</div>
          <mat-list-item>
            <div mat-line>You are currently not a member of any workspaces.</div>
          </mat-list-item>
        </mat-list>
      </ng-template>
    </section>
  </mat-dialog-content>
  <!--  <mat-dialog-actions class="mb-10" fxLayout="row" fxLayoutAlign="end">-->
  <!--    <button mat-stroked-button mat-dialog-close (click)="closeForm()">Close</button>-->
  <!--  </mat-dialog-actions>-->
</div>
