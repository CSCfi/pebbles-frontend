<div class="container__screen bg__primary" id="welcome-page-wrapper">
  <app-header [displayMode]="'cutout'"
              [isNaviVisible]="true" [logoMarkSize]="80" [logoTypeSize]="4"
              class="mt-40 mb-50 app-header pl-20 pr-20">
  </app-header>
  <div class="main-content ml-20 mr-20">
    <!--  Service Announcement 'welcome'  -->
    <app-service-announcement [context]="context"></app-service-announcement>

    <div id="jumbotron" ngClass.gt-xs="mt-75" ngClass.lt-sm="mt-15" role="main">
      <app-welcome-login (emitSpecialLogin)="openSpecialLoginDialog()" [context]="context"></app-welcome-login>
    </div>
    <div class="bg-pattern-1">
      <img alt="CSC Pattern" class="csc-img-1" src="assets/images/csc_pattern.svg">
    </div>
    <div class="bg-pattern-2">
      <img alt="CSC Pattern" class="csc-img-2" src="assets/images/csc_pattern.svg">
    </div>
  </div>
  <app-footer [context]="context"></app-footer>
</div>
<ng-template #specialLoginDialog>
  <form (ngSubmit)="onLogin()" *ngIf="!loginClicked"
        [formGroup]="loginFormGroup" class="special-login-form grid-row">
    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input formControlName="ext_id" id="ext_id" matInput placeholder="Email">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <input [type]="'password'" formControlName="password" id="password" matInput placeholder="Password">
    </mat-form-field>
    <button [disabled]="loginClicked" class="mt-10" color="primary" id="special-login-submit-button" mat-flat-button>
      Submit
    </button>
  </form>
  <div *ngIf="loginClicked" class="processing-login">
    <h1>Logging in...</h1>
    <mat-spinner mode="indeterminate"></mat-spinner>
  </div>
</ng-template>
<ng-template #specialLoginDialogTerms>
  <div *ngIf="!acceptTermsClicked" class="form-container centered grid-row">
    <div class="header">
      <img alt="logo" src="{{ publicConfigService.getAgreementLogoPath() }}"/>
      <h1>{{ publicConfigService.getAgreementTitle() }}</h1>
    </div>
    <form (ngSubmit)="onTermsAgree()"
          [formGroup]="loginFormGroup">
      <p>Before continuing, you need to agree to our
        <a href="{{ publicConfigService.getTermsOfUseUrl() }}" rel="noopener" target="_blank"> Terms of Use, </a>
        including sections concerning use of
        <a href="{{ publicConfigService.getCookiesPolicyUrl() }}" rel="noopener" target="_blank"> Cookies </a>
        on this site and
        <a href="{{ publicConfigService.getPrivacyPolicyUrl() }}" rel="noopener" target="_blank"> Privacy Policy.</a>
      </p>
      <button [disabled]="acceptTermsClicked" color="primary" mat-flat-button id="agree-button">
        Agree & Continue
      </button>
    </form>
  </div>
  <div *ngIf="acceptTermsClicked" class="processing-login">
    <h1>Accepting terms and logging in...</h1>
    <mat-spinner mode="indeterminate"></mat-spinner>
  </div>
</ng-template>
